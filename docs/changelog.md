## 1 Описание версий

!!! Abstract ""
    **О версиях:** как и многие успешные open‑source проекты, MaxKB выпускает функциональные версии ежемесячно. При критичных ошибках в рамках функциональной версии оперативно выпускаются минорные патчи.           
    **Схема версионирования MaxKB:** v Мажорная.Минорная.Патч. Например:

    - v2.0.1 — патч‑релиз после v2.0.0
    - v2.1.0 — функциональный релиз после v2.0.0

## 2 Изменения

### v2.0.2

7 августа 2025

!!! Abstract "Новые возможности :star2:"

    - Приложения: в продвинутой оркестрации добавлены переменные сессии;
    - Пользователи диалога (X‑Pack): поддержка входа по QR‑коду;
    - Пользователи диалога (X‑Pack): поддержка синхронизации пользователей LDAP и WeCom;
    - Управление ресурсами (X‑Pack): единое управление ресурсами, связанными с рабочими пространствами.

!!! Abstract "Оптимизации :sunflower:"

    - Пользователи диалога (X‑Pack): фильтрация по источнику и статусу;
    - База знаний: повышена производительность поиска для сложных сценариев с большим объёмом данных;
    - База знаний: поддержка фильтрации пользователей диалога по источнику;
    - Приложения: изменены лимиты загрузки файлов в продвинутой оркестрации — до 100 файлов за диалог, до 1000 MB на файл;
    - Приложения: фильтрация по статусу публикации;
    - Приложения: пользователи диалога — фильтрация по источнику;
    - Страница Q&A: автозаполнение поля вопроса после загрузки файла;
    - Страница Q&A: улучшен UX входа в режимах виджета и мобильного просмотра;
    - Управление пользователями: фильтрация по источнику и статусу;
    - Система: улучшения UI‑стилей.

!!! Abstract "Исправления :palm_tree:"
    - База знаний: исправлена ошибка теста попаданий в режиме полнотекстового поиска;
    - База знаний: исправлены неточности локализации на странице загрузки офлайн‑документов;
    - База знаний: исправлена область прокрутки на странице правил сегментации при загрузке офлайн‑документов;
    - Приложения (X‑Pack): исправлено отображение Markdown при ответах AI в интеграции DingTalk;
    - Приложения: исправлены ошибки выполнения узла вызова MCP в отдельных случаях;
    - Приложения: устранено повторное выполнение при множественных соединениях между одинаковыми узлами;
    - Приложения: исправлено некорректное отображение параметров при их изменении;
    - Приложения: при добавлении дочернего приложения фильтруются неопубликованные приложения;
    - Страница Q&A: исправлено скрытие URL, если в имени загруженного файла есть символы «&nbsp»;
    - Страница Q&A: исправлено невозможное увеличение изображений в ответах AI;
    - Страница Q&A: исправлено смещение при отображении табличных ответов AI;
    - Страница Q&A (X‑Pack): исправлена ошибка при отсутствии лицензии;
    - Общие модели (X‑Pack): исправлена ошибка при удалении общей модели.


### v2.0.1

18 июля 2025

!!! Abstract "Исправления :palm_tree:"
    
    - Приложения: исправлено некорректное отображение ссылок на источники, если включено только «Показывать источник знаний» без «Деталей выполнения»;
    - Приложения: исправлена ошибка при пустом поле «переранжирования» в узле «Многоканальный отзыв»;
    - Инструменты: исправлено отсутствие функции «Отладка» у пользователей с ролью «Обычный пользователь» после входа;
    - Страница Q&A: исправлено невозможное перетаскивание аудиофайлов для воспроизведения в ответах AI;
    - Управление пользователями: исправлена ошибка при редактировании пользователя;
    - Общие инструменты (X‑Pack): исправлена ошибка добавления инструмента из магазина.


### v2.0.0

17 июля 2025

<table>
	<tr>
		<td bgcolor="#4B60FC" align="middle" style="font-weight:bold;color: white;width: 150px">Модуль</td>
        <td bgcolor="#4B60FC" align="middle" style="font-weight:bold;color: white;width: 150px">Функция</td>
		<td bgcolor="#4B60FC" align="middle" style="font-weight:bold;color: white;width: 750px">Описание</td>
	</tr>
	<tr>
		<td rowspan="21">Приложения</td>
        <td rowspan="4">Управление приложениями</td>
		<td>Создание простых приложений и приложений с продвинутой оркестрацией</td>
    </tr>
    <tr>
		<td>Категоризация приложений по многоуровневым каталогам</td>
    </tr>
    <tr>
        <td>Контроль доступа: разрешить/запретить публичный доступ</td>
	</tr>
    <tr>
        <td>Импорт и экспорт приложений</td>
	</tr>
	<tr>
        <td rowspan="10">Продвинутая оркестрация</td>
		<td>Создание простых приложений и приложений с рабочими процессами</td>
    </tr>
    <tr>
        <td>
			Узлы рабочих процессов: AI‑диалог, поиск по базе знаний, оптимизация вопроса, условие/ветвление, заданный ответ, суммаризация документа, TTS, ASR, понимание изображения, генерация изображения, сбор формы, MCP и др.	
		</td>
	</tr>
    <tr>
        <td>Загрузка файлов при вопросе: текст, изображения, аудио и т.д.</td>
	</tr>
    <tr>
        <td>Вызов инструментов внутри рабочего процесса</td>
	</tr>
    <tr>
        <td>Вложенные приложения внутри рабочего процесса</td>
	</tr>
    <tr>
        <td>Множественные входы/выходы и параллельное выполнение</td>
	</tr>
    <tr>
        <td>Глобальные переменные</td>
	</tr>
    <tr>
        <td>Автосохранение и восстановление версий</td>
	</tr>
    <tr>
        <td>Автопередача голосового ввода и автопроигрывание</td>
	</tr>
    <tr>
        <td>Кастомные лейблы «мыслей» и настройка их вывода</td>
	</tr>
    <tr>
        <td rowspan="1">Встраивание Q&A</td>
		<td>Встраивание Q&A в сторонние приложения</td>
    </tr>
    <tr>
        <td rowspan="2">Ограничения доступа</td>
		<td>Лимит числа вопросов в день на клиента</td>
    </tr>
    <tr>
        <td>Белый список доменов для встраивания</td>
	</tr>
    <tr>
        <td rowspan="2">Настройки отображения</td>
		<td>Показывать источник знаний при ответе</td>
    </tr>
    <tr>
        <td>Настройка языка страницы Q&A</td>
	</tr>
    <tr>
        <td rowspan="2">Дашборд</td>
		<td>Статистика по времени: пользователи, число вопросов, всего токенов, удовлетворённость</td>
    </tr>
    <tr>
        <td>Тренды: пользователи, вопросы, токены, удовлетворённость</td>
	</tr>
    <tr>
		<td rowspan="12">База знаний</td>
        <td rowspan="1">Управление</td>
		<td>Поддержка универсальной БЗ по файлам и БЗ по Web‑сайтам</td>
    </tr>
    <tr>
        <td rowspan="6">Документы</td>
		<td>Загрузка текстовых форматов: Markdown, TXT, DOCX, PDF, HTML, XLSX, XLS, CSV</td>
    </tr>
    <tr>
        <td>Загрузка QA‑пар, предоставлен шаблон</td>
	</tr>
    <tr>
        <td>Загрузка и экспорт ZIP с текстами и офлайн‑изображениями</td>
	</tr>
    <tr>
        <td>Включение/отключение документов</td>
	</tr>
    <tr>
        <td>Режим обработки: оптимизация моделью, прямой ответ</td>
	</tr>
    <tr>
        <td>Экспорт документов из БЗ</td>
	</tr>
    <tr>
        <td rowspan="3">Сегментация</td>
		<td>«Умная» и «расширенная» сегментация</td>
    </tr>
    <tr>
        <td>Пользовательские регулярные выражения</td>
	</tr>
    <tr>
        <td>Миграция сегментов документов БЗ</td>
	</tr>
    <tr>
        <td rowspan="2">Вопросы</td>
		<td>Связь вопросов с сегментами документов</td>
    </tr>
    <tr>
        <td>Автогенерация связанных вопросов</td>
	</tr>
    <tr>
		<td rowspan="4">Инструменты</td>
        <td rowspan="4">Управление инструментами</td>
		<td>Пользовательские инструменты на Python</td>
    </tr>
    <tr>
        <td>Импорт из магазина инструментов</td>
	</tr>
    <tr>
        <td>Категоризация инструментов по многоуровневым каталогам</td>
	</tr>
    <tr>
        <td>Экспорт и импорт инструментов</td>
	</tr>
    <tr>
		<td rowspan="4">Модели</td>
        <td rowspan="4">Интеграция провайдеров</td>
		<td>Интеграция с популярными LLM: локальные частные (Llama 3 / Qwen 2 и др.), китайские публичные (通义千问 / 智谱 AI / 百度千帆 / Kimi / DeepSeek и др.) и зарубежные публичные (OpenAI / Azure OpenAI / Gemini и др.)</td>
    </tr>
    <tr>
        <td>Поддержка: LLM, эмбеддинги, rerank, ASR, TTS, понимание и генерация изображений</td>
	</tr>
    <tr>
        <td>Настраиваемые параметры моделей</td>
	</tr>
    <tr>
        <td>Права доступа к моделям</td>
	</tr>
    <tr>
		<td rowspan="20">Администрирование</td>
        <td rowspan="1">Язык системы</td>
        <td>Поддержка упрощённого китайского, традиционного китайского и английского</td>
    </tr>
    <tr>
        <td rowspan="3">Пользователи</td>
        <td>Создание/удаление, включение/запрет, смена пароля</td>
    </tr>
    <tr>
        <td>Интеграции LDAP, CAS, OIDC, OAuth2 (X‑Pack)</td>
	</tr>
    <tr>
        <td>Вход по QR через WeCom, DingTalk, Feishu (X‑Pack)</td>
	</tr>
    <tr>
        <td rowspan="1">Рабочие пространства</td>
        <td>Изолированное управление пользователями и ресурсами по рабочим пространствам (X‑Pack)</td>
    </tr>
    <tr>
        <td rowspan="2">Роли</td>
        <td>Встроенные роли: администратор системы, администратор рабочего пространства, обычный пользователь</td>
    </tr>
    <tr>
        <td>Пользовательские роли, привязка прав и участников (X‑Pack)</td>
	</tr>
    <tr>
        <td rowspan="1">Ресурсы</td>
        <td>Просмотр всех ресурсов: приложения, базы знаний, инструменты, модели (X‑Pack)</td>
    </tr>
    <tr>
        <td rowspan="1">Назначение прав</td>
        <td>Назначение прав на ресурсы по ролям и настраиваемым правилам</td>
    </tr>
    <tr>
        <td rowspan="1">Общие ресурсы</td>
        <td>Создание и управление общими базами знаний, инструментами, моделями (X‑Pack)</td>
    </tr>
    <tr>
        <td rowspan="3">Пользователи диалога</td>
        <td>Создание и синхронизация пользователей диалога (X‑Pack)</td>
    </tr>
    <tr>
        <td>Группы пользователей диалога и управление участниками (X‑Pack)</td>
	</tr>
    <tr>
        <td>Аутентификация пользователей диалога через LDAP, CAS, OIDC, OAuth2 и др. (X‑Pack)</td>
	</tr>
    <tr>
        <td rowspan="3">Настройки системы</td>
        <td>Интеграция с почтой</td>
    </tr>
    <tr>
        <td>Кастомизация: системный логотип, логотип входа, тема, фон входа, имя системы, приветствие, ссылка помощи (X‑Pack)</td>
    </tr>
    <tr>
        <td>Аутентификация входа через LDAP, CAS, OIDC, OAuth2, QR‑код и т.п. (X‑Pack)</td>
    </tr>
    <tr>
        <td rowspan="1">Журнал операций</td>
        <td>Просмотр деталей операций всех пользователей (X‑Pack)</td>
    </tr>
</table> 