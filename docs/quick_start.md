## 1 Быстрая установка

!!! Abstract ""
    Подготовьте среду в соответствии с требованиями к серверу и выполните установочный скрипт для быстрого развертывания.    

    Требования к серверу:

    * ОС: Ubuntu 22.04 / CentOS 7 (версия ядра ≥ 3.10)
    * CPU/Память: от 4C/8GB
    * Диск: 100GB

    Распакуйте загруженный на сервер установочный пакет и выполните в его каталоге:
    ```
    bash install.sh
    ```
    
    После установки на сервере зайдите в браузере по адресу `http://IP_сервера:8080` и войдите в MaxKB с данными администратора по умолчанию.

    ```
    Имя пользователя: admin

    Пароль по умолчанию: MaxKB@123..
    ```

    **Внимание: прямое обновление с v1.10.x на v2.0.x пока не поддерживается. Инструмент миграции планируется к выпуску в сентябре 2025.**
    

## 2 Обзор интерфейса

!!! Abstract ""
    В верхней навигации главного интерфейса MaxKB доступны четыре раздела: Приложения, База знаний, Инструменты, Модели.

    - Модели: подключение локальных, китайских и зарубежных LLM; поддержка текстовой генерации, ASR, CV и т.д.

    - Инструменты: встроенные и настраиваемые функции для получения данных, логики и извлечения информации; затем используются в оркестрации приложений.

    - База знаний: создание/управление базами знаний, загрузка офлайн‑документов, Web‑сайтов, документов Feishu, как источник знаний для диалога.

    - Приложения: готовые шаблоны и компоненты для быстрого Q&A или продвинутой оркестрации для сложных процессов.

![Навигация](img/index/page_introduction.png)


## 3 Быстрый старт

!!! Abstract ""
    Три шага к вашему AI‑помощнику: подключить модель, построить базу знаний, создать приложение. Также доступна быстрая интеграция без кода.

![Процесс](img/index/flow.png)

!!! Abstract ""
    На примере «универсальной базы знаний» используем публичный сервис моделей Alibaba Bailian (для локального развертывания, например DeepSeek, см. [Быстрое развертывание DeepSeek‑R1 с 1Panel](https://mp.weixin.qq.com/s/bF253jBHZIWIHvNnSMv-Rg)) для быстрой публикации приложения Q&A.

### 3.1 Добавление модели

!!! Abstract ""
    После входа в MaxKB откройте страницу «Модели», выберите «Alibaba Bailian», нажмите «Добавить модель» и заполните параметры:

    * Имя модели: произвольное имя в MaxKB.
    * Тип модели: LLM.   
    * Базовая модель: название LLM, поддерживаемое Alibaba Bailian (можно ввести своё).        
    * API Key: создайте и посмотрите в DashScope (Alibaba 灵积) API Key.

![Добавить модель APIkey](img/index/add_model.png)

!!! Abstract ""
    Параметры отличаются у разных платформ. Подробности см. в руководствах по интеграции моделей.


### 3.2 Создание базы знаний

!!! Abstract ""

    Откройте «База знаний», нажмите «Создать», введите имя и описание, выберите векторную модель и задайте тип «универсальная». Загрузите офлайн‑документы перетаскиванием или выбором файлов. 


!!! Abstract ""
    Требования к документам:  

    * Текстовые файлы: Markdown, TXT, PDF, DOCX, HTML, XLS, XLSX, CSV, ZIP;
    * Таблицы: Excel, CSV;
    * QA‑пары: Excel, CSV;
    * По умолчанию за один раз можно загрузить до 50 файлов, размер каждого ≤ 100 MB; всего до 1000 файлов, максимум 1000 MB на файл;
    * Поддерживается загрузка папок (подходящих по формату файлов).

    Рекомендации к структуре:

    * Единообразные маркеры сегментации; иначе автоматическая нарезка даст неоднородные сегменты.   
    * Полнота сегмента: сегмент должен выражать законченную мысль.

![Создание универсальной БЗ](img/index/dataset.png)
    
!!! Abstract ""
    MaxKB поддерживает два способа сегментации: «умная» и «расширенная».

    - **Умная сегментация**: по структуре Markdown (до 6 уровней заголовков), максимум 4096 символов в сегменте;

    - **Расширенная сегментация**: настраиваемые маркеры, длина и автоочистка; поддерживаются регулярные выражения для сложных документов.


    При импорте можно «Добавить заголовок сегмента как связанный вопрос» — тогда заголовки станут связанными вопросами.

![Редактирование сегментации](img/index/paragraphing.png)

 
!!! Abstract ""
    После «Создать и импортировать» система выполнит автоматическую сегментацию, сохранение и векторизацию. В списке документов статус станет «Успешно».

![Список документов](img/index/doc_list.png)

![Список сегментов](img/index/document_list.png)

### 3.3 Создание приложения

!!! Abstract ""
    Нажмите «Создать», выберите тип, введите имя и подтвердите.

    - **Простая конфигурация**: базовые функции и настройки для типовых Q&A; быстрое внедрение.
    - **Продвинутая оркестрация**: компоненты, инструменты и вложенные приложения для проектирования рабочих процессов под сложные сценарии.

![Создание приложения](img/index/creat_app.png)


!!! Abstract ""
    После создания перейдите в «Простая конфигурация». Слева — информация приложения, справа — предпросмотр и отладка.

    * Имя: заголовок диалога для пользователя.    
    * Описание: сценарии и назначение.    
    * AI‑модель: LLM, добавленная в «Системные настройки» → «Управление моделями».   
    * Системная роль: предустановленная роль и границы поведения модели.
    * Подсказки: базовая подсказка для интеллектуальной БЗ; можно настроить разные подсказки для случаев с/без цитирования БЗ.
    * История диалога: сколько последних сообщений включать; 0 — только текущий вопрос.
    * Связанная БЗ: поиск сегментов выполняется в связанной БЗ.   
    * Приветствие: приветственное сообщение при открытии диалога. Поддерживает Markdown; элементы после [-] — быстрые вопросы (по одному в строке). 
    * Вывод мыслей: настраивает, выводить ли размышления LLM.
    * Голосовой ввод: при включении — голосовые вопросы (нужна ASR‑модель).
    * Голосовой вывод: при включении — озвучивание ответа через браузер или TTS‑модель.

    После настройки тестируйте в правом предпросмотре; вопросы там не сохраняются в лог.

![Настройки приложения](img/index/app_setting.png)


  
!!! Abstract "" 
    **Параметры БЗ:**

    - **Режимы поиска**

        * Векторный: находит самые похожие сегменты по векторной дистанции;        
        * Полнотекстовый: по ключевым словам, возвращая сегменты с наибольшим совпадением;           
        * Гибридный: комбинирует полнотекстовый и векторный поиск с последующим переранжированием.    

    - **Порог сходства:** чем выше, тем сильнее связь между вопросом и сегментом. 

    - **TOP ссылок:** сколько сегментов включать в подсказку для LLM. 

    - **Макс. символов цитирования:** обрезка при превышении лимита.     

    - **Если нет попаданий в БЗ**

        * Продолжать спрашивать LLM: допускает «галлюцинации»;       
        * Задать ответ: указать текст ответа, чтобы направить модель.   
    
    - **Оптимизация вопроса:** сначала улучшить вопрос через LLM, затем искать по улучшенной формулировке.

![Параметры БЗ](img/index/parameter_setting.png)

!!! Abstract "" 
    Сохраните, опубликуйте и перейдите к диалогу через «Перейти к диалогу» или публичную ссылку.

![Предпросмотр](img/index/app_view.png)

### 3.4 Интеграция приложения

!!! Abstract "" 
    Приложения MaxKB можно встраивать в сторонние Web‑системы без кода.

    На странице обзора нажмите «Встроить в стороннюю систему», скопируйте код вставки и используйте полноэкранный режим или виджет. После встраивания задавайте вопросы напрямую в сторонней системе.

![Встраивание](<img/index/embed.png>)

!!! Abstract "" 
    Также поддерживается подключение к WeCom, WeChat Public, DingTalk и Feishu. Подробнее: [X‑Pack — интеграция приложений](./user_manual/X-Pack/app_integrate.md).

    




